"""add address_line_1, address_line_2 gin index

Revision ID: 992d8cd2a3f6
Revises: fae5b2737f78
Create Date: 2020-07-23 23:42:26.254677

"""
from alembic import op
import sqlalchemy as sa

# revision identifiers, used by Alembic.
revision = '992d8cd2a3f6'
down_revision = 'fae5b2737f78'
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.execute(
        '''
            CREATE INDEX property_address_line_1_gin_idx ON property USING GIN (to_tsvector('english', address_line_1));
            CREATE INDEX property_original_address_line_1_gin_idx ON property_original 
            USING GIN (to_tsvector('english', address_line_1));

            CREATE INDEX property_address_line_2_gin_idx ON property USING GIN (to_tsvector('english', address_line_2));           
            CREATE INDEX property_original_address_line_2_gin_idx ON property_original 
            USING GIN (to_tsvector('english', address_line_2));
        '''
    )
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.execute(
        '''
        DROP INDEX property_address_line_1_gin_idx;
        DROP INDEX property_original_address_line_1_gin_idx;
        
        DROP INDEX property_address_line_2_gin_idx;
        DROP INDEX property_original_address_line_2_gin_idx;
        '''
    )
    # ### end Alembic commands ###
